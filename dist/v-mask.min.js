!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueMask={})}(this,function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(o,!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var a="_",i="function",u=[];function c(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}var f="[]";var s=[],l="";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!c(r)){if(t(r)!==i)throw new Error("Text-mask:conformToMask; The mask property must be an array.");r=function(e){for(var t,r=[];-1!==(t=e.indexOf(f));)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}}(r=r(e,n)).maskWithoutCaretTraps}var o=n.guide,p=void 0===o||o,v=n.previousConformedValue,d=void 0===v?l:v,h=n.placeholderChar,y=void 0===h?a:h,m=n.placeholder,g=void 0===m?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(!c(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+"The placeholder character that was received is: ".concat(JSON.stringify(t),"\n\n")+"The mask that was received is: ".concat(JSON.stringify(e)));return e.map(function(e){return e instanceof RegExp?t:e}).join("")}(r,y):m,b=n.currentCaretPosition,w=n.keepCharPositions,O=!1===p&&void 0!==d,k=e.length,x=d.length,P=g.length,j=r.length,E=k-x,T=E>0,S=b+(T?-E:0),M=S+Math.abs(E);if(!0===w&&!T){for(var V=l,C=S;C<M;C++)g[C]===y&&(V+=y);e=e.slice(0,S)+V+e.slice(S,k)}for(var A=e.split(l).map(function(e,t){return{char:e,isNew:t>=S&&t<M}}),_=k-1;_>=0;_--){var N=A[_].char;if(N!==y)N===g[_>=S&&x===j?_-E:_]&&A.splice(_,1)}var D=l,R=!1;e:for(var U=0;U<P;U++){var L=g[U];if(L===y){if(A.length>0)for(;A.length>0;){var z=A.shift(),H=z.char,I=z.isNew;if(H===y&&!0!==O){D+=y;continue e}if(r[U].test(H)){if(!0===w&&!1!==I&&d!==l&&!1!==p&&T){for(var J=A.length,W=null,$=0;$<J;$++){var q=A[$];if(q.char!==y&&!1===q.isNew)break;if(q.char===y){W=$;break}}null!==W?(D+=H,A.splice(W,1)):U--}else D+=H;continue e}R=!0}!1===O&&(D+=g.substr(U,P));break}D+=L}if(O&&!1===T){for(var B=null,X=0;X<D.length;X++)g[X]===y&&(B=X);D=null!==B?D.substr(0,B+1):l}return{conformedValue:D,meta:{someCharsRejected:R}}}var v={__nextCharOptional__:!0},d={"#":/\d/,A:/[a-z]/i,N:/[a-z0-9]/i,"?":v,X:/./},h=function(e){return t=e.toString().replace(/.(\/)[gmiyus]{0,6}$/,function(e){return e.replace("/","?/")}),r=t.lastIndexOf("/"),new RegExp(t.slice(1,r),t.slice(r+1));var t,r},y=function(e){return e instanceof RegExp?e:function(e){return new RegExp("/[".concat(function(e){return"[\\^$.|?*+()".indexOf(e)>-1?"\\".concat(e):e}(e),"]/"))}(e)};var m=function(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)},g=function(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e},b="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),w=b&&b.indexOf("edge/")>0,O=b&&b.indexOf("android")>0,k=b&&/chrome\/\d+/.test(b)&&!w;var x=function(){var e=new Map,t={previousValue:"",mask:[]};function r(r){return e.get(r)||o({},t)}return{partiallyUpdate:function(t,n){e.set(t,o({},r(t),{},n))},remove:function(t){e.delete(t)},get:r}}();function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.value,n=x.get(e),o=n.previousValue,a=n.mask,i=r!==o,u=r.length>o.length;if(t||r&&i&&u){var c=p(r,a,{guide:!1}).conformedValue;e.value=c,function(e){var t=m.bind(null,e,"input");O&&k?setTimeout(t,0):t()}(e)}x.partiallyUpdate(e,{previousValue:r})}function j(e,t){var r;x.partiallyUpdate(e,{mask:(r=t,r.split("").map(function(e,t,r){var n=d[e]||e,o=r[t-1],a=d[o]||o;return n===v?null:a===v?h(y(n)):n}).filter(Boolean))})}var E={bind:function(e,t){var r=t.value;j(e=g(e),r),P(e)},componentUpdated:function(e,t){var r=t.value,n=t.oldValue;e=g(e);var o=r!==n;o&&j(e,r),P(e,o)},unbind:function(e){e=g(e),x.remove(e)}},T=function(e){e.directive("mask",E)};e.VueMaskDirective=E,e.VueMaskPlugin=T,e.default=T,Object.defineProperty(e,"__esModule",{value:!0})});
